TechMarket AI — Capítulo 4 Catálogo: Productos, Servicios, Repuestos y Garantías (la oferta estructurada que habilita IA, compatibilidad y conversión) Propósito del capítulo: definir y construir el catálogo multirubro (productos, servicios y repuestos) con una estructura suficientemente rígida para búsquedas/compatibilidad/analítica, pero lo bastante flexible para soportar variaciones del mercado (marcas, modelos, generaciones, estados, garantías y condiciones). Aquí se decide cómo se publica, cómo se actualiza, cómo se controla calidad/fraude y cómo se convierte en valor real para el usuario. 4.1. Por qué el catálogo es “core” en este vertical En electrónica y computación el usuario no compra “un producto” genérico: compra una combinación de atributos donde un error pequeño rompe la experiencia: - una RAM incompatible, - una fuente insuficiente, - un gabinete que no entra, - una GPU que no cabe, - un router que no cubre, - un repuesto falso. Por eso el catálogo de TechMarket AI no puede ser solo texto y fotos . Debe ser: - normalizado (atributos reales, no solo descripción), - verificable (señales antifraude), - geo‑operable (precio y disponibilidad por sucursal), - componible (base para compatibilidad, tickets, historial del equipo), - listo para IA (embeddings, extracción de atributos, intent search). 4.2. Alcance del catálogo (qué se publica) 4.2.1 Productos (venta) Ejemplos: - Laptops, PCs armadas, monitores, impresoras. - Componentes: CPU, motherboard, RAM, GPU, PSU, SSD/HDD, case. - Redes: routers, switches, APs, cables, cámaras. - Periféricos: teclado, mouse, headset. 4.2.2 Servicios (prestación) Ejemplos: - Diagnóstico, formateo, limpieza, mantenimiento preventivo. - Reparación (cambio de pantalla, teclado, batería). - Armado de PC, instalación de redes, CCTV. - Servicios especializados: micro-soldadura, data recovery. 4.2.3 Repuestos (venta para reparación) Ejemplos: - Pantallas, baterías, teclados, flex, ventiladores. - Chips/ICs (en escenarios avanzados, requiere más control por falsificación). 4.2.4 Garantías (entidad explícita) Una garantía no es un texto: es una promesa operacional con reglas: - duración, - condiciones, - cobertura, - RMA (retorno), - exclusiones, - evidencia requerida. Razón: en este rubro, garantía y soporte son parte del producto. 4.3. Principio de diseño: “Catálogo dual” (Plantilla + Publicación) Para hacerlo enterprise, separa: 4.3.1 Plantilla (Master / Reference) Representa el “producto ideal” con specs estandarizadas. - Ej: “Ryzen 5 5600X”, “RTX 4060 Ti 8GB”, “Corsair Vengeance DDR4 3200 16GB”. - Vive como referencia global, reutilizable por muchos tenants. 4.3.2 Publicación (Listing por tenant/sucursal) Representa la oferta concreta: - precio, - stock, - condición (nuevo/usado/refurbished), - garantía, - fotos reales, - disponibilidad por sucursal, - políticas del negocio. Beneficio: - Evitas que 100 tiendas escriban mal “RTX 4060Ti 8gb” y rompan la búsqueda. - Potencias compatibilidad y analítica, porque las publicaciones se conectan a una referencia sólida. 4.4. Taxonomía y categorías (estructura para filtrar y recomendar) 4.4.1 Categorías principales (mínimo viable) Computación → Laptops, PCs, Monitores. Componentes → CPU, Motherboard, RAM, GPU, PSU, Storage, Case, Cooling. Redes → Router, Switch, AP, Cableado, CCTV. Periféricos → Input, Audio, Accesorios. Servicios → Diagnóstico, Reparación, Mantenimiento, Redes, Instalación. Repuestos → Laptop/PC/Impresora/Consola (por familia). 4.4.2 Atributos por categoría (schema por tipo) Ejemplos: - CPU: socket, generación, TDP, núcleos. - Motherboard: socket, chipset, formato, slots RAM, PCIe. - RAM: tipo (DDR4/DDR5), frecuencia, latencia, capacidad, kit. - GPU: largo, consumo, conectores, VRAM. - PSU: watt real, certificación, conectores. - Router: estándar Wi‑Fi, throughput, bandas, puertos. - Servicio: duración estimada, tipo de ticket, si requiere visita, rango de precio. Regla: cada categoría define un conjunto de atributos “obligatorios” y “opcionales”. 4.5. Variantes y SKUs (cómo evitar caos) 4.5.1 Producto con variantes Un mismo reference puede tener variantes: - color, - capacidad, - tamaño, - región, - bundle. 4.5.2 Identificadores recomendados reference_id (global, interno TechMarket). manufacturer_part_number (MPN) si existe. barcode (EAN/UPC) si aplica. listing_id (publicación por tenant). sku_internal (por negocio si desea). Por qué importa: - Reduce duplicidad. - Facilita detección de falsificación. - Acelera búsqueda y compatibilidad. 4.6. Condición, estado y transparencia (clave para confianza) Toda publicación debe declarar: - condición: NEW , USED , REFURBISHED . - estado: OPEN_BOX , LIKE_NEW , GOOD , FAIR (si used). - origen: OFFICIAL , IMPORT , UNKNOWN (según controles). - fotos reales mínimas (reglas por categoría). Enterprise: la plataforma define reglas mínimas de publicación; no todo vale. 4.7. Stock y precio por sucursal (operación real) En TechMarket AI, el inventario puede variar por sucursal. Modelo recomendado: - Stock por branch_id . - Precio por branch_id (o precio global con overrides). Además: - moneda (multimoneda si aplica en expansión), - impuestos (si se integra a facturación), - precio promocional con vigencia. 4.8. Garantías como entidad (y por qué se modela) 4.8.1 Tipos de garantía garantía del fabricante, garantía del negocio, garantía extendida (fase 3), “sin garantía” (debe mostrarse explícito). 4.8.2 Campos mínimos duración (días/meses), condiciones, exclusiones, evidencia requerida, proceso RMA: dónde y cómo. Resultado: - el usuario compara con claridad, - el negocio se diferencia, - se reduce conflicto postventa. 4.9. Moderación y antifraude en catálogo El catálogo es uno de los principales vectores de fraude: - specs engañosas, - productos falsos, - fotos robadas, - “precio gancho”. 4.9.1 Señales automáticas (IA + reglas) inconsistencias de atributos (ej: DDR5 con frecuencia imposible para el tipo). precio extremadamente fuera de rango regional. texto con patrones de estafa. duplicados sospechosos. 4.9.2 Flujos DRAFT → PUBLISHED → FLAGGED → SUSPENDED . backoffice revisa y decide. Importante: si hay embajadores y ranking, la moderación debe ser disciplinada. 4.10. Modelo de datos recomendado (multi-modelo) En el Capítulo 18 se hace la consolidación global; aquí dejamos lo necesario para que el catálogo funcione hoy. 4.10.1 PostgreSQL (transaccional) Tablas base (reference / master): - catalog_category - catalog_attribute_def (definición de atributos por categoría) - catalog_reference_item (producto/servicio/repuesto “plantilla”) - catalog_reference_attribute_value (valores normalizados) Tablas de listing (por tenant): - catalog_listing (publicación) - tenant_id , type (PRODUCT/SERVICE/PART) - reference_item_id (nullable si publicación libre controlada) - title , description , status (DRAFT/PUBLISHED/FLAGGED) - condition , state_grade - warranty_policy_id - created_at , updated_at , version (@Version) - catalog_listing_branch_offer - listing_id , branch_id - price , currency , stock_qty - promo_price , promo_start , promo_end - version (@Version) Garantías: - warranty_policy - tenant_id (o global) - name , duration_days , terms_text , exclusions_text , rma_process_text - version (@Version) Normalización de marcas/modelos: - brand - product_family (ej. “Laptop”, “GPU”) - model_line (ej. “ThinkPad T14 Gen 3”) — opcional en MVP. Índices críticos: - catalog_listing(tenant_id, status) - catalog_listing(reference_item_id) - catalog_listing_branch_offer(branch_id, price) - catalog_reference_item(category_id) 4.10.2 MongoDB (documentos flexibles) Usos recomendados: - listing_media (fotos, thumbnails, metadatos, hashes) - listing_rich_specs (atributos extensos/variantes raras sin re-migrar SQL cada vez) - moderation_cases (historial, evidencias, comentarios) Nota: la fuente de verdad transaccional (publicado, precio, stock) debe quedar en Postgres. 4.10.3 Redis (performance) cache de resultados de filtros por zona/categoría. cache de listings populares. rate limiting para publicaciones. 4.10.4 Vector store (para IA de búsqueda) embeddings de reference_item y listing (title + atributos + descripción). pgvector recomendado si ya usas Postgres. 4.11. APIs del catálogo (diseño recomendado) 4.11.1 Endpoints para negocio (owner/admin) POST /catalog/listings (crear draft) PATCH /catalog/listings/{id} (editar) POST /catalog/listings/{id}/publish POST /catalog/listings/{id}/unpublish POST /catalog/listings/{id}/media (subir fotos) PUT /catalog/listings/{id}/branch-offers/{branchId} (precio/stock) 4.11.2 Endpoints para reference (interno/curado) POST /catalog/reference-items (crear/curar) PATCH /catalog/reference-items/{id} GET /catalog/reference-items/search?q= 4.11.3 Discovery (cliente) GET /catalog/search?q=&amp;category=&amp;lat=&amp;lng=&amp;radius=&amp;filters= GET /catalog/listings/{id} Recomendación: - REST para escritura (seguridad y trazabilidad). - GraphQL opcional para queries de discovery complejas (si tu equipo lo domina), con caching y límites. 4.12. UX/UI mínima del catálogo 4.12.1 Panel del negocio Wizard “Publicar producto/servicio”: elegir categoría, buscar reference (si existe), completar campos obligatorios, subir fotos, asignar precio/stock por sucursal, seleccionar garantía, publicar. Pantalla “Mis publicaciones”: estado, visitas, leads, edits, flags. 4.12.2 App cliente Búsqueda + filtros (intención y atributos). Ficha del producto/servicio: specs claras, garantía, ubicación por sucursal, botón WhatsApp + “abrir ticket” (si servicio). 4.13. IA aplicada en catálogo (práctica, no decorativa) 4.13.1 Asistente de publicación Cuando un negocio escribe un título/pega texto, la IA: - sugiere categoría, - sugiere reference item, - extrae atributos (RAM, capacidad, modelo, generación), - detecta inconsistencias, - recomienda mejoras del anuncio. 4.13.2 Normalización de títulos Convierte “rtx 4060ti 8 gb ddr6” → “NVIDIA GeForce RTX 4060 Ti 8GB GDDR6”. 4.13.3 Detención temprana de fraude alerta si la publicación parece “demasiado buena para ser verdad”. pide evidencia adicional (factura, serial) para ciertos casos. 4.13.4 Embeddings para búsqueda híbrida keyword + filtros + vector search. mejora discovery por intención. 4.14. Paso a paso de implementación (plan de obra) Paso 1 — Migraciones y tablas base crear categorías y definiciones de atributos. crear tablas de reference y listing. Paso 2 — Servicios de validación validaciones por categoría (campos obligatorios). reglas de condición/estado. validación de ofertas por sucursal. Paso 3 — Flujo draft/publicación estado DRAFT para editar. PUBLISHED solo si pasa checklist. auditoría de publish/unpublish. Paso 4 — Media subida a storage. hash para detectar duplicados. thumbnails. Paso 5 — Search index + embeddings indexar listings publicados. construir embeddings y guardarlos. Paso 6 — Moderación sistema de flags. backoffice mínimo. Paso 7 — Performance caching de consultas. paginación. 4.15. Pruebas esenciales y definición de “listo” 4.15.1 Casos de prueba crear listing draft. publicar con campos mínimos. publicar sin garantía → debe exigir declarar “sin garantía”. editar con @Version (conflicto concurrente). actualizar precio/stock por sucursal. búsqueda por filtros. flag de moderación y suspensión. 4.15.2 “Listo” significa negocios pueden publicar fácil, el usuario entiende specs y garantía, la búsqueda devuelve resultados útiles, el sistema resiste spam básico, la data queda estructurada para compatibilidad (Capítulo 5). 4.16. Cómo conecta con el Capítulo 5 Con catálogo sólido, ahora sí construimos el diferenciador mayor: - Motor de compatibilidad (PC builder + reglas + dataset + feedback), usando reference items y atributos. Fin del Capítulo 4
