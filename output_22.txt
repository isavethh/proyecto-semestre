Este documento define el diseño del flujo completo de REGISTRO DE EMBAJADOR, pensado para ser replicado exactamente en Figma, pantalla por pantalla, con campos, estados, validaciones y reglas de negocio claras. El objetivo es que el programador y el diseñador no interpreten: solo implementen. El flujo contempla dos escenarios: 1) Embajador que fue invitado por otro embajador. 2) Embajador que se registra solo y pasa directamente a la red de la empresa. PANTALLA 0 – ENTRY POINT / ATRIBUCIÓN DE INVITACIÓN Tipo de pantalla: Pantalla invisible / lógica previa (no siempre visible al usuario). Comportamiento esperado: - El sistema detecta si el usuario llega desde: a) Link o QR con parámetro ref b) Sin parámetro ref Elementos lógicos (no UI): - ref_id (string | opcional) - source (link, qr, manual, organic) Estados: - Si ref_id existe y es válido → se guarda en sesión - Si no existe → se marca como registro directo a la empresa Regla de negocio (para el programador): Este paso define la atribución inicial. Si existe un ref_id válido, el embajador queda asociado al invitador como Nivel 1. Si no existe, el embajador queda asociado directamente a la red de la empresa, sin invitador humano. Esta decisión es inmutable una vez finalizado el registro. La atribución nunca debe depender solo de inputs posteriores. El sistema debe priorizar el contexto de entrada para evitar fraude, cambios manuales o conflictos de atribución. PANTALLA 1 – REGISTRO BÁSICO DEL EMBAJADOR Tipo de pantalla: Formulario principal (Figma frame 1). Componentes UI: [ Logo de la empresa ] Campo: Nombre completo - Input text - Obligatorio Campo: Correo electrónico - Input email - Obligatorio - Validación formato Campo: Teléfono - Input numérico - Obligatorio Campo: Contraseña - Input password - Reglas visibles: mínimo 8 caracteres Campo: Confirmar contraseña Checkbox: [ ] Acepto términos y condiciones Botón primario: [ Crear cuenta de embajador ] Regla de negocio: En esta pantalla solo se crea la identidad básica del embajador. No se calculan comisiones ni niveles aún. El registro no se considera completo hasta validar correo y aceptar términos. El sistema debe validar unicidad de correo y teléfono. Si el usuario ya existe como cliente o conductor, se debe enlazar la identidad, no crear un duplicado. PANTALLA 2 – IDENTIFICACIÓN DE INVITACIÓN (VISIBLE SOLO SI NO HAY ref_id) Tipo de pantalla: Formulario condicional. Texto superior: “¿Alguien te recomendó la plataforma?” Campo opcional: - Código de invitación - Input text - Placeholder: “Ej: AF-12345” Texto ayuda: “Si alguien te recomendó, puedes ingresar su código para que reciba el reconocimiento correspondiente.” Botón: [ Continuar ] Estados: - Si el código es válido → mostrar nombre/alias del invitador (solo confirmación) - Si no se ingresa nada → continuar como registro directo Regla de negocio: Este campo es opcional y solo actúa como respaldo. Si el usuario ya llegó con ref_id, esta pantalla no debe mostrarse. Una vez confirmado este paso, la atribución queda bloqueada. El usuario no puede cambiar quién lo invitó después del registro. PANTALLA 3 – TIPO DE PARTICIPACIÓN Tipo de pantalla: Selección simple (radio cards). Opciones: ( ) Quiero recomendar restaurantes ( ) Quiero recomendar conductores ( ) Quiero recomendar ambos Texto aclaratorio: “Puedes cambiar estas preferencias más adelante.” Botón: [ Continuar ] Regla de negocio: Esta pantalla no define permisos finales, solo preferencias iniciales. Sirve para personalizar el onboarding y las primeras sugerencias de IA. No debe limitar funcionalidades futuras ni afectar el cálculo de comisiones. PANTALLA 4 – CONFIRMACIÓN DE ATRIBUCIÓN Tipo de pantalla: Confirmación informativa. Bloque informativo: Si tiene invitador: “Estás siendo registrado como embajador recomendado por: Carlos M.” Si es registro directo: “Te estás registrando como embajador independiente dentro de la red de la empresa.” Texto legal pequeño: “La atribución de recomendación no puede modificarse una vez completado el registro.” Botón: [ Confirmar y continuar ] Regla de negocio: Esta pantalla existe para eliminar conflictos posteriores. El usuario confirma explícitamente la atribución antes de finalizar el alta. El sistema debe guardar un log de aceptación para auditoría futura. PANTALLA 5 – DATOS DE PAGO Tipo de pantalla: Formulario financiero. Campos: - Tipo de pago (transferencia / billetera / otro) - Banco - Número de cuenta - Nombre del titular Texto aclaratorio: “Los pagos se realizan semanalmente. Puedes modificar estos datos en cualquier momento.” Botón: [ Guardar y continuar ] Regla de negocio: Los datos de pago no son obligatorios para completar el registro, pero sí para recibir pagos. El sistema debe permitir avanzar aunque estén incompletos, pero bloquear liquidaciones si faltan. PANTALLA 6 – REGISTRO COMPLETADO Tipo de pantalla: Pantalla de éxito. Mensaje principal: “Tu cuenta de embajador ha sido creada con éxito.” Subtexto: “Desde tu panel podrás ver el impacto de tus recomendaciones y tus ingresos en tiempo real.” Botón: [ Ir a mi backoffice ] Regla de negocio: En este punto el embajador ya existe en el sistema y puede generar impacto. El acceso al backoffice debe estar habilitado incluso si aún no tiene actividad. FLUJO RESUMIDO PARA Figma Entry Point → Registro Básico → (Identificación Invitación si aplica) → Preferencias → Confirmación → Datos de Pago → Éxito → Backoffice CONCLUSIÓN PARA EL EQUIPO TÉCNICO Este flujo garantiza: - Atribución clara y auditable - Cero ambigüedad sobre quién invitó a quién - Experiencia profesional y sin estigma MLM - Base sólida para cálculos multinivel posteriores Este documento puede usarse directamente para construir frames en Figma y tickets de desarrollo frontend/backend.
